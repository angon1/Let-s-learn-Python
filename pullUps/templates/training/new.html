{% extends '../layout.html' %}
{% block content %}
{%block javascript %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
    let addBlock = () =>
    {
        let block_root = window.document.getElementById("blockRoot")
        let block_node = window.document.getElementById("block").cloneNode(true)
        // let new_div = document.createElement("div")
        block_node.classList.add("post-form")
        block_node.setAttribute('style', 'display:block')
        // new_div.append(block_node)
        block_root.append(block_node)
    }
    let addForm = (url) =>
    {
        let new_div = document.createElement("div")
        new_div.classList.add("post-form")
        // window.open(url, "self")
        let block_root = window.document.getElementById("blockRoot")
        new_div.append(block_root)
    }

</script>
{% endblock javascript %}

<h2>Dodaj blok do treningu</h2>
    <div id="blockRoot">
        <br>
        <form id="block" method="POST" action="{% url 'training_create' %}" class="post-form">{% csrf_token %}
            {{ form.as_p }}
        </form>
    </div>
        <div>
            <h2>Czy chcesz dodaÄ‡ kolejny blok?</h2>
            <form id="blockAdd" style="display: hide;" method="POST" action="{% url 'excercise_block_new' %}" >{% csrf_token %}
            </form>

                <div id="blockcreate" onclick="addBlock()">
                    +dodaj kolejny blok
                </div>
        </div>
        <button type="submit" class="save btn btn-default">zapisz trening</button>

{% endblock %}
